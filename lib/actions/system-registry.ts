/**
 * KT Estate IT System Registry
 * 20개 시스템 + ONE 9개 모듈 + 각 시스템별 30-50개 메뉴
 */

export interface Menu {
  id: string
  name: string
  systemId: string
  moduleId?: string
}

export interface Module {
  id: string
  name: string
  nameEn: string
  systemId: string
  menus: string[]
}

export interface System {
  id: string
  name: string
  nameEn?: string
  description?: string
  modules?: Module[]
  menus: string[]
}

// ============================================
// ONE 시스템 모듈 (9개, 각 30개 메뉴)
// ============================================

export const ONE_MODULES: Module[] = [
  {
    id: 'one-ps',
    name: '개발사업',
    nameEn: 'PS',
    systemId: 'one',
    menus: [
      '사업현황조회', '사업등록', '사업수정', '사업삭제', '사업승인',
      '분양현황', '분양등록', '분양계약관리', '분양대금관리', '분양정산',
      '시행사관리', '시공사관리', '설계사관리', '감리사관리', '협력업체관리',
      '공정현황', '공정등록', '공정수정', '공정승인', '공정보고서',
      '인허가현황', '인허가등록', '인허가진행', '인허가완료', '인허가문서',
      '원가현황', '원가등록', '원가분석', '원가비교', '원가보고서',
    ],
  },
  {
    id: 'one-pm',
    name: '자산운영',
    nameEn: 'PM',
    systemId: 'one',
    menus: [
      '자산현황조회', '자산등록', '자산수정', '자산이전', '자산처분',
      '임대현황', '임대등록', '임대계약', '임대갱신', '임대해지',
      '임차인관리', '임차인등록', '임차인수정', '임차인이력', '임차인알림',
      '수납현황', '수납등록', '수납확인', '미수금관리', '수납보고서',
      '관리비현황', '관리비산정', '관리비청구', '관리비수납', '관리비정산',
      '시설현황', '시설점검', '시설수선', '시설교체', '시설이력',
    ],
  },
  {
    id: 'one-fm',
    name: 'FM관리',
    nameEn: 'FM',
    systemId: 'one',
    menus: [
      '시설물현황', '시설물등록', '시설물수정', '시설물점검', '시설물이력',
      '설비현황', '설비등록', '설비점검', '설비수리', '설비교체',
      '작업현황', '작업등록', '작업배정', '작업완료', '작업보고서',
      '점검계획', '점검등록', '점검실시', '점검결과', '점검이력',
      '에너지현황', '에너지사용량', '에너지분석', '에너지절감', '에너지보고서',
      '민원현황', '민원등록', '민원처리', '민원완료', '민원분석',
    ],
  },
  {
    id: 'one-fi',
    name: '전표/예산',
    nameEn: 'FI',
    systemId: 'one',
    menus: [
      '전표현황', '전표등록', '전표수정', '전표승인', '전표반려',
      '예산현황', '예산등록', '예산배정', '예산이월', '예산조정',
      '결산현황', '결산등록', '결산마감', '결산취소', '결산보고서',
      '세금계산서', '세금계산서발행', '세금계산서수정', '세금계산서취소', '세금계산서조회',
      '지출현황', '지출등록', '지출승인', '지출반려', '지출보고서',
      '수입현황', '수입등록', '수입확인', '수입취소', '수입보고서',
    ],
  },
  {
    id: 'one-bi',
    name: '경영정보',
    nameEn: 'BI',
    systemId: 'one',
    menus: [
      '대시보드', '경영현황', '매출현황', '비용현황', '손익현황',
      '사업분석', '사업별매출', '사업별비용', '사업별손익', '사업보고서',
      '자산분석', '자산별수익', '자산별비용', '자산별손익', '자산보고서',
      'KPI현황', 'KPI등록', 'KPI달성률', 'KPI분석', 'KPI보고서',
      '리포트생성', '리포트조회', '리포트다운로드', '리포트공유', '리포트설정',
      '데이터추출', '데이터분석', '데이터시각화', '데이터내보내기', '데이터설정',
    ],
  },
  {
    id: 'one-sm',
    name: '공통,업무결재',
    nameEn: 'SM',
    systemId: 'one',
    menus: [
      '결재현황', '결재상신', '결재승인', '결재반려', '결재위임',
      '기안작성', '기안조회', '기안수정', '기안삭제', '기안복사',
      '문서함', '기안함', '결재함', '완료함', '참조함',
      '양식관리', '양식등록', '양식수정', '양식삭제', '양식조회',
      '결재선관리', '결재선등록', '결재선수정', '결재선삭제', '결재선조회',
      '공통코드', '코드등록', '코드수정', '코드삭제', '코드조회',
    ],
  },
  {
    id: 'one-vc',
    name: 'VOC',
    nameEn: 'VC',
    systemId: 'one',
    menus: [
      'VOC현황', 'VOC등록', 'VOC수정', 'VOC삭제', 'VOC조회',
      '민원접수', '민원배정', '민원처리', '민원완료', '민원반려',
      '불만현황', '불만등록', '불만처리', '불만완료', '불만분석',
      '제안현황', '제안등록', '제안검토', '제안채택', '제안보상',
      '칭찬현황', '칭찬등록', '칭찬확인', '칭찬보상', '칭찬분석',
      '통계현황', '접수통계', '처리통계', '유형통계', '월별통계',
    ],
  },
  {
    id: 'one-gr',
    name: '권한관리',
    nameEn: 'GR',
    systemId: 'one',
    menus: [
      '사용자현황', '사용자등록', '사용자수정', '사용자삭제', '사용자조회',
      '권한현황', '권한등록', '권한수정', '권한삭제', '권한조회',
      '역할현황', '역할등록', '역할수정', '역할삭제', '역할조회',
      '메뉴권한', '메뉴권한설정', '메뉴권한조회', '메뉴권한복사', '메뉴권한이력',
      '데이터권한', '데이터권한설정', '데이터권한조회', '데이터권한복사', '데이터권한이력',
      '조직관리', '조직등록', '조직수정', '조직삭제', '조직조회',
    ],
  },
  {
    id: 'one-wd',
    name: '배포관리',
    nameEn: 'WD',
    systemId: 'one',
    menus: [
      '배포현황', '배포요청', '배포승인', '배포실행', '배포완료',
      '버전현황', '버전등록', '버전수정', '버전삭제', '버전조회',
      '릴리즈노트', '릴리즈등록', '릴리즈수정', '릴리즈삭제', '릴리즈조회',
      '형상관리', '형상등록', '형상수정', '형상삭제', '형상조회',
      '테스트현황', '테스트등록', '테스트실행', '테스트결과', '테스트보고서',
      '운영이관', '이관요청', '이관승인', '이관실행', '이관완료',
    ],
  },
]

// ============================================
// 전체 시스템 목록 (20개)
// ============================================

export const SYSTEMS: System[] = [
  // 1. 그룹웨어 (Portal) - 40개 메뉴
  {
    id: 'portal',
    name: '그룹웨어',
    nameEn: 'Portal',
    description: '전사 업무 포털 시스템',
    menus: [
      '메인화면', '공지사항', '공지사항등록', '공지사항수정', '공지사항삭제',
      '게시판', '게시판등록', '게시판수정', '게시판삭제', '게시판조회',
      '전자결재', '결재상신', '결재승인', '결재반려', '결재조회',
      '근태관리', '출퇴근등록', '연차신청', '휴가신청', '근태조회',
      '일정관리', '일정등록', '일정수정', '일정삭제', '일정공유',
      '메일', '메일작성', '메일수신', '메일발신', '메일설정',
      '조직도', '조직조회', '부서조회', '사원조회', '조직도출력',
      '자료실', '자료등록', '자료다운로드', '자료수정', '자료삭제',
    ],
  },

  // 2. 통합부동산관리 (ONE) - 모듈 기반
  {
    id: 'one',
    name: '통합부동산관리',
    nameEn: 'ONE',
    description: '부동산 통합 관리 시스템',
    modules: ONE_MODULES,
    menus: [], // 모듈 기반이므로 빈 배열
  },

  // 3. 전자조달 (EPS) - 35개 메뉴
  {
    id: 'eps',
    name: '전자조달',
    nameEn: 'EPS',
    description: '전자 조달 및 입찰 시스템',
    menus: [
      '입찰현황', '입찰공고등록', '입찰공고수정', '입찰공고삭제', '입찰공고조회',
      '투찰현황', '투찰등록', '투찰수정', '투찰취소', '투찰조회',
      '낙찰현황', '낙찰등록', '낙찰확정', '낙찰취소', '낙찰조회',
      '계약현황', '계약등록', '계약수정', '계약해지', '계약조회',
      '발주현황', '발주등록', '발주승인', '발주취소', '발주조회',
      '검수현황', '검수등록', '검수완료', '검수반려', '검수조회',
      '대금지급', '지급요청', '지급승인', '지급완료', '지급조회',
    ],
  },

  // 4. 경영정보 (BIS) - 35개 메뉴
  {
    id: 'bis',
    name: '경영정보',
    nameEn: 'BIS',
    description: '경영 정보 분석 시스템',
    menus: [
      '경영대시보드', '매출현황', '매출분석', '매출예측', '매출보고서',
      '비용현황', '비용분석', '비용예측', '비용보고서', '비용절감',
      '손익현황', '손익분석', '손익예측', '손익보고서', '손익추이',
      '투자현황', '투자분석', '투자수익률', '투자보고서', '투자계획',
      '인력현황', '인력분석', '인건비분석', '인력보고서', '인력계획',
      'KPI대시보드', 'KPI현황', 'KPI분석', 'KPI달성률', 'KPI보고서',
      '리포트센터', '리포트생성', '리포트조회', '리포트공유', '리포트설정',
    ],
  },

  // 5. 인재개발원 (LIME) - 30개 메뉴
  {
    id: 'lime',
    name: '인재개발원',
    nameEn: 'LIME',
    description: '교육 및 인재 개발 시스템',
    menus: [
      '교육현황', '교육과정조회', '교육신청', '교육승인', '교육취소',
      '수강현황', '수강등록', '수강완료', '수강이력', '수강증명',
      '강좌관리', '강좌등록', '강좌수정', '강좌삭제', '강좌조회',
      '강사관리', '강사등록', '강사수정', '강사삭제', '강사평가',
      '평가관리', '평가등록', '평가실시', '평가결과', '평가분석',
      '설문관리', '설문등록', '설문실시', '설문결과', '설문분석',
    ],
  },

  // 6. 회사홈페이지 (KTEH) - 30개 메뉴
  {
    id: 'kteh',
    name: '회사홈페이지',
    nameEn: 'KTEH',
    description: 'KT Estate 공식 홈페이지 관리',
    menus: [
      '콘텐츠관리', '메인배너', '서브배너', '팝업관리', '이미지관리',
      '뉴스관리', '뉴스등록', '뉴스수정', '뉴스삭제', '뉴스조회',
      '공지사항', '공지등록', '공지수정', '공지삭제', '공지조회',
      'IR정보', 'IR등록', 'IR수정', 'IR삭제', 'IR조회',
      '채용관리', '채용공고', '지원자관리', '면접관리', '합격자관리',
      '문의관리', '문의조회', '문의답변', '문의삭제', '문의통계',
    ],
  },

  // 7. 리마크빌홈페이지 (Remk) - 30개 메뉴
  {
    id: 'remk',
    name: '리마크빌홈페이지',
    nameEn: 'Remk',
    description: '리마크빌 브랜드 홈페이지 관리',
    menus: [
      '콘텐츠관리', '메인배너', '서브배너', '팝업관리', '이미지관리',
      '지점관리', '지점등록', '지점수정', '지점삭제', '지점조회',
      '시설안내', '시설등록', '시설수정', '시설삭제', '시설조회',
      '예약관리', '예약조회', '예약승인', '예약취소', '예약통계',
      '이벤트관리', '이벤트등록', '이벤트수정', '이벤트삭제', '이벤트조회',
      '회원관리', '회원조회', '회원수정', '회원탈퇴', '회원통계',
    ],
  },

  // 8. 호텔맴버십 (HMS) - 35개 메뉴
  {
    id: 'hms',
    name: '호텔맴버십',
    nameEn: 'HMS',
    description: '호텔 멤버십 관리 시스템',
    menus: [
      '회원현황', '회원등록', '회원수정', '회원탈퇴', '회원조회',
      '등급관리', '등급등록', '등급수정', '등급삭제', '등급조회',
      '포인트현황', '포인트적립', '포인트사용', '포인트취소', '포인트조회',
      '쿠폰현황', '쿠폰발급', '쿠폰사용', '쿠폰취소', '쿠폰조회',
      '예약현황', '예약등록', '예약수정', '예약취소', '예약조회',
      '혜택관리', '혜택등록', '혜택수정', '혜택삭제', '혜택조회',
      '통계현황', '회원통계', '포인트통계', '예약통계', '매출통계',
    ],
  },

  // 9. 전사적자원관리 (ERP) - 50개 메뉴
  {
    id: 'erp',
    name: '전사적자원관리',
    nameEn: 'ERP',
    description: '전사 자원 관리 시스템',
    menus: [
      '회계관리', '전표입력', '전표승인', '전표조회', '전표마감',
      '채권관리', '채권등록', '채권수금', '채권조회', '채권분석',
      '채무관리', '채무등록', '채무지급', '채무조회', '채무분석',
      '자산관리', '자산등록', '자산처분', '자산조회', '감가상각',
      '예산관리', '예산편성', '예산배정', '예산조회', '예산분석',
      '결산관리', '월결산', '분기결산', '연결산', '결산보고서',
      '인사관리', '사원등록', '사원수정', '사원퇴직', '사원조회',
      '급여관리', '급여계산', '급여지급', '급여조회', '급여명세서',
      '근태관리', '근태입력', '근태승인', '근태조회', '근태통계',
      '구매관리', '구매요청', '구매발주', '구매입고', '구매조회',
    ],
  },

  // 10. 통합관제 (SIOS) - 35개 메뉴
  {
    id: 'sios',
    name: '통합관제',
    nameEn: 'SIOS',
    description: '시설물 통합 관제 시스템',
    menus: [
      '관제대시보드', '실시간모니터링', 'CCTV관제', '출입관제', '주차관제',
      '시설현황', '시설등록', '시설수정', '시설삭제', '시설조회',
      '장비현황', '장비등록', '장비수정', '장비삭제', '장비조회',
      '이벤트현황', '이벤트등록', '이벤트처리', '이벤트완료', '이벤트조회',
      '알람현황', '알람설정', '알람이력', '알람통계', '알람보고서',
      '리포트센터', '일일리포트', '주간리포트', '월간리포트', '연간리포트',
      '설정관리', '시스템설정', '알람설정', '사용자설정', '권한설정',
    ],
  },

  // 11. 비즈라운지 (BizL) - 30개 메뉴
  {
    id: 'bizl',
    name: '비즈라운지',
    nameEn: 'BizL',
    description: '비즈니스 라운지 관리 시스템',
    menus: [
      '지점현황', '지점등록', '지점수정', '지점삭제', '지점조회',
      '좌석현황', '좌석등록', '좌석수정', '좌석삭제', '좌석조회',
      '예약현황', '예약등록', '예약수정', '예약취소', '예약조회',
      '회원현황', '회원등록', '회원수정', '회원탈퇴', '회원조회',
      '결제현황', '결제등록', '결제취소', '결제조회', '결제통계',
      '운영통계', '이용통계', '매출통계', '회원통계', '지점통계',
    ],
  },

  // 12. 전자문서고 (EDMS) - 30개 메뉴
  {
    id: 'edms',
    name: '전자문서고',
    nameEn: 'EDMS',
    description: '전자 문서 관리 시스템',
    menus: [
      '문서현황', '문서등록', '문서수정', '문서삭제', '문서조회',
      '폴더관리', '폴더생성', '폴더수정', '폴더삭제', '폴더조회',
      '문서함', '개인문서함', '부서문서함', '공유문서함', '휴지통',
      '버전관리', '버전등록', '버전비교', '버전복원', '버전이력',
      '권한관리', '문서권한', '폴더권한', '공유설정', '권한이력',
      '검색센터', '문서검색', '내용검색', '태그검색', '검색이력',
    ],
  },

  // 13. 도면관리 (Revit) - 30개 메뉴
  {
    id: 'revit',
    name: '도면관리',
    nameEn: 'Revit',
    description: '건축 도면 관리 시스템',
    menus: [
      '도면현황', '도면등록', '도면수정', '도면삭제', '도면조회',
      '프로젝트관리', '프로젝트등록', '프로젝트수정', '프로젝트삭제', '프로젝트조회',
      '버전관리', '버전등록', '버전비교', '버전복원', '버전이력',
      '뷰어', '도면뷰어', '3D뷰어', '비교뷰어', '마크업',
      '출력관리', '출력설정', '출력요청', '출력이력', '출력통계',
      '협업관리', '공유설정', '댓글관리', '알림설정', '이력관리',
    ],
  },

  // 14. 윈도우&OA (OS) - 40개 메뉴
  {
    id: 'os',
    name: '윈도우&OA',
    nameEn: 'OS',
    description: 'PC 및 OA 장비 관리',
    menus: [
      'PC현황', 'PC등록', 'PC수정', 'PC폐기', 'PC조회',
      '소프트웨어현황', 'SW등록', 'SW설치', 'SW삭제', 'SW조회',
      '라이선스현황', '라이선스등록', '라이선스할당', '라이선스회수', '라이선스조회',
      '장애현황', '장애접수', '장애처리', '장애완료', '장애조회',
      '원격지원', '원격요청', '원격연결', '원격종료', '원격이력',
      '패치관리', '패치등록', '패치배포', '패치이력', '패치통계',
      '보안점검', '점검등록', '점검실행', '점검결과', '점검보고서',
      '자산관리', '자산등록', '자산이동', '자산폐기', '자산조회',
    ],
  },

  // 15. 외장하드반출 (security-hdd) - 10개 메뉴
  {
    id: 'security-hdd',
    name: '외장하드반출 요청',
    description: '외장하드 반출 신청 및 관리',
    menus: [
      '반출신청', '반출현황', '반출승인', '반출반려', '반출조회',
      '반입신청', '반입현황', '반입확인', '반입완료', '이력조회',
    ],
  },

  // 16. 보안솔루션문의 (security-inquiry) - 10개 메뉴
  {
    id: 'security-inquiry',
    name: '보안솔루션문의',
    description: '보안 솔루션 문의 및 상담',
    menus: [
      '문의등록', '문의현황', '문의조회', '문의답변', '문의완료',
      '상담신청', '상담현황', '상담조회', '상담완료', '이력조회',
    ],
  },

  // 17. 보안솔루션 변경 요청 (security-change) - 10개 메뉴
  {
    id: 'security-change',
    name: '보안솔루션 변경 요청',
    description: '보안 솔루션 설정 변경 요청',
    menus: [
      '변경신청', '변경현황', '변경승인', '변경반려', '변경조회',
      '설정변경', '정책변경', '예외신청', '예외승인', '이력조회',
    ],
  },

  // 18. 안전보건스퀘어 (safety) - 30개 메뉴
  {
    id: 'safety',
    name: '안전보건스퀘어2.0',
    description: '안전 보건 관리 시스템',
    menus: [
      '안전현황', '안전점검', '안전교육', '안전사고', '안전보고서',
      '보건현황', '건강검진', '건강상담', '보건교육', '보건보고서',
      '위험성평가', '평가등록', '평가실시', '평가결과', '평가이력',
      '사고관리', '사고등록', '사고조사', '사고처리', '사고분석',
      '교육관리', '교육등록', '교육신청', '교육이수', '교육이력',
      '점검관리', '점검등록', '점검실시', '점검결과', '점검이력',
    ],
  },

  // 19. 구)그룹웨어 (legacy-portal) - 30개 메뉴
  {
    id: 'legacy-portal',
    name: '구)그룹웨어',
    description: '이전 버전 그룹웨어 시스템',
    menus: [
      '메인화면', '공지사항', '게시판', '자료실', '일정관리',
      '전자결재', '결재상신', '결재승인', '결재조회', '결재함',
      '근태관리', '출퇴근', '연차관리', '휴가관리', '근태조회',
      '메일', '메일작성', '메일수신', '메일발신', '메일함',
      '조직도', '부서조회', '사원조회', '조직검색', '조직출력',
      '마이페이지', '내정보', '비밀번호변경', '알림설정', '환경설정',
    ],
  },

  // 20. 추가 시스템 (20번째)
  {
    id: 'etc',
    name: '기타시스템',
    description: '기타 업무 시스템',
    menus: [
      '시스템현황', '시스템등록', '시스템수정', '시스템삭제', '시스템조회',
      '서비스현황', '서비스등록', '서비스수정', '서비스삭제', '서비스조회',
      '모니터링', '성능모니터링', '장애모니터링', '보안모니터링', '리소스모니터링',
      '운영관리', '운영현황', '운영계획', '운영보고', '운영이력',
      '통계관리', '접속통계', '사용통계', '오류통계', '리포트생성',
      '설정관리', '시스템설정', '알림설정', '권한설정', '환경설정',
    ],
  },
]

// ============================================
// Helper Functions
// ============================================

/**
 * 시스템 ID로 시스템 정보 조회
 */
export function getSystemById(systemId: string): System | undefined {
  return SYSTEMS.find((s) => s.id === systemId)
}

/**
 * 모듈 ID로 모듈 정보 조회
 */
export function getModuleById(moduleId: string): Module | undefined {
  return ONE_MODULES.find((m) => m.id === moduleId)
}

/**
 * 시스템의 모든 메뉴 조회 (모듈 포함)
 */
export function getSystemMenus(systemId: string): string[] {
  const system = getSystemById(systemId)
  if (!system) return []

  if (system.modules && system.modules.length > 0) {
    return system.modules.flatMap((m) => m.menus)
  }
  return system.menus
}

/**
 * 전체 메뉴 수 계산
 */
export function getTotalMenuCount(): number {
  let count = 0
  SYSTEMS.forEach((system) => {
    if (system.modules && system.modules.length > 0) {
      system.modules.forEach((module) => {
        count += module.menus.length
      })
    } else {
      count += system.menus.length
    }
  })
  return count
}

/**
 * 키워드로 메뉴 검색
 */
export function searchMenus(keyword: string): Array<{ system: System; module?: Module; menu: string }> {
  const results: Array<{ system: System; module?: Module; menu: string }> = []
  const lowerKeyword = keyword.toLowerCase()

  SYSTEMS.forEach((system) => {
    if (system.modules && system.modules.length > 0) {
      system.modules.forEach((module) => {
        module.menus.forEach((menu) => {
          if (menu.toLowerCase().includes(lowerKeyword)) {
            results.push({ system, module, menu })
          }
        })
      })
    } else {
      system.menus.forEach((menu) => {
        if (menu.toLowerCase().includes(lowerKeyword)) {
          results.push({ system, menu })
        }
      })
    }
  })

  return results
}
